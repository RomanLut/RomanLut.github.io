# Home Theatre PC своими руками

*Статья опубликована на сайте [Hardware Portal](http://www.hwp.ru/articles/Home_Theatre_PC_svoimi_rukami/) 18.08.2008*

*Статья – призёр конкурса "Своими руками" на сайте Hardware Portal.ru*

## Введение

![Рисунок 1](images/picture1.jpg)

*Рисунок 1. Мой "домашний кинотеатр".*

Что ни говори – но портативный компьютер – это удобно. Конечно, десктоп «проще» апгрейдить – но за свободу передвижения не грех и переплатить. Поэтому, медленно, но верно, я «пересел» на ноутбук.

Старый десктоп долгое время пылился под столом, работая то роутером интернета для ноутбука, то сетевым диском, пока однажды я не решил переделать его в Home Theatre PC.

![Рисунок 2](images/picture2.gif)

*Рисунок 2. HTPC Thermaltake DH-101*

В тоже время, никто не мешает собрать такое устройство самостоятельно, из доступных комплектующих.

![Рисунок 3](images/picture3.jpg)

*Рисунок 3. До переделки.*

Итого, я задался целью переделать десктоп в бесшумный компьютер, в горизонтальном корпусе, с пультом ДУ.

## Исходная конфигурация

| Компонент | Модель |
|-----------|--------|
| Процессор | Athlon XP 2400 |
| Материнская плата | Soltek SL-75FRN-2L (чипсет nVidia nForce2) |
| HDD | Seagate 160GB |
| Видеокарта | Radeon 9600 Pro |
| Блок питания | Codegen 350Вт |

## Корпус

Обычный Midi tower был укорочен на 7 см при помощи «болгарки». Лицевая панель была вырезана из оргстекла.

![Рисунок 4](images/picture4.jpg)

*Рисунок 4. Корпус в исходном виде.*

![Рисунок 5](images/picture5.jpg)

*Рисунок 5. Корпус стал короче на 7 см.*

![Рисунок 6](images/picture6.jpg)

*Рисунок 6. Теперь корпус будет стоять горизонтально.*

![Рисунок 7](images/picture7.jpg)

*Рисунок 7. Лицевая панель.*

После механической обработки, весь корпус будет покрашен в черный свет краской из баллончика.

## Блок питания

![Рисунок 8](images/picture8.jpg)

*Рисунок 8. Замена вентилятора на БП.*

## Охлаждение процессора

![Рисунок 9](images/picture9.jpg)

*Рисунок 9. Zalman 6000CU.*

Далее следовало заменить 80мм вентилятор на процессоре. Первой попыткой было использовать кулер Zalman 6000CU и установленный рядом вентилятор. К сожалению, несмотря на внушительный дизайн кулера, в такой конфигурации процессор перегревается.

![Рисунок 10](images/picture10.jpg)

*Рисунок 10. Кулер процессора Titan Siberia комплектуется 120мм вентилятором и регулятором оборотов для установки в отсек дисковода.*

В поисках нового 120мм вентилятора, я наткнулся на кулер Titan Siberia. Кулер комплектуется 120мм вентилятором, имеет ручной регулятор оборотов и заявлен как бесшумный.

![Рисунок 11](images/picture11.jpg)

*Рисунок 11. Окончательный вариант системы охлаждения процессора.*

В результате нескольких попыток включить вентиляторы на пониженное напряжение выяснилось, что двух вентиляторов недостаточно. Поэтому я добавил еще один на верхнюю крышку. Этот вентилятор должен дуть внутрь корпуса.

## Видеокарта

Среди пылящихся комплектующих я обнаружил две видеокарты ATI Radeon 9600 и 9600 Pro.

![Рисунок 12](images/picture12.jpg)

*Рисунок 12. Видеокарты Radeon 9600 (сверху) и Radeon 9600Pro (снизу) имеют одинаковые крепления для системы охлаждения.*

![Рисунок 13](images/picture13.jpg)

*Рисунок 13. При установке радиатора, три конденсатора пришлось перепаять на другую сторону платы.*

## Снижение оборотов вентиляторов

После нескольких попыток, я пришёл к выводу, что в режиме максимальной производительности (игры) придется отказаться от бесшумного режима – вентиляторы должны работать на полной скорости.

Кроме того, пониженного напряжения недостаточно для уверенного старта. Все эксперименты могли бы на этом и закончиться, если бы не Anti-burn shield (ABS II) на материнской плате.

Просто включить вентиляторы на пониженное напряжение не получится – необходима схема управления, подающая 12В при включении, и снижающая напряжение позже.

Эксперименты с понижением частоты и напряжения питания процессора, с целью понизить нагрев, себя не оправдали. Можно снизить температуру процесcора на 2-3 градуса, используя Bus disconnect, с помощью утилиты S2kCtl[9].

Также в интернете можно найти несколько схем аналогового управления скоростью вентиляторов[3],[6],[7],[8]. Из-за сложности настройки аналоговых схем, я решил сделать ступенчатую схему с программным управлением.

## Регулятор оборотов

![Рисунок 14](images/picture14.gif)

*Рисунок 14. Схема регулятора оборотов.*

В «тихом» режиме вентилятор БП работает на 7В, а вентиляторы процессора и верхней крышки – на 5В.

![Рисунок 15](images/picture15.jpg)

*Рисунок 15. Схема смонтирована на отрезке оргстекла.*

Программа передает управляющий сигнал через контакт /MOTEA контроллера дисковода. Можно было сделать тоже самое через LPT или COM порт, но я решил их не занимать.

![Рисунок 16](images/picture16.jpg)

*Рисунок 16. Схема управления изолирована и закреплена внутри корпуса.*

## Программная часть

![Рисунок 17](images/picture17.gif)

*Рисунок 17. Управляющая программа отображает температуру процессора в Tray.*

Покопавшись в интернете и мануалах, я написал небольшую программу на Delphi – FanDriver.

Программа умеет работать только с микросхемой Winbond 83627HF. Именно такая установлена на моём чипсете. Алгоритм общения с микросхемой описывать не буду – всё можно увидеть в исходниках[10].

![Рисунок 18](images/picture181.gif)

*Рисунок 18. Программа позволяет настроить пороги срабатывания.*

Программу нужно включить в автозагрузку.

## Пульт ДУ

В качестве пульта ДУ был куплен простейший пульт от телевизора Philips. Рекомендую брать пульты именно от телевизоров, потому что некоторые пульты от DVD плейеров, которые я пробовал, посылали слишком длинные коды, которые не умеют распознавать программы.

![Рисунок 19](images/picture19.jpg)

*Рисунок 19. Пуль ДУ Philips RC5-BP6*

Приемник ИК сигнала был собран по схеме из статьи[14].

![Рисунок 20](images/picture20.jpg)

*Рисунок 20. Схема простейшего приемника ИК сигналов для компьютера.*

Из программного обеспечения я рассматривал uIce[13], Girder[15], SlyControl 2.0[16]. Больше всего мне понравилась uIce за простой интерфейс и стабильность распознавания.

![Рисунок 21](images/picture21.jpg)

*Рисунок 21. IR датчик смотрит через окошко на передней панели.*

## Программная оболочка медиацентра

В качестве программной оболочки был выбран Media Portal[11]. Программа обладает обширными возможностями и простым интерфейсом, хорошо отображаемым даже на экране обычного телевизора.

![Рисунок 22](images/picture22.jpg)

*Рисунок 22. Интерфейс программы MediaPortal.*

Это первое приложение, которое я попробовал, и нам остановился.

## Дополнительные аксессуары

### Клавиатура

![Рисунок 23](images/picture23.jpg)

*Рисунок 23. Клавиатура и мышь BTC-9001ARF.*

![Рисунок 24](images/picture24.jpg)

*Рисунок 24. Клавиатура Genius Media Cruiser.*

### Gamepad

Геймпад Logitech Cordless Rumplepad 2 – отличное и удобное устройство, работающее на расстоянии до 9м.

![Рисунок 25](images/picture25.jpg)

*Рисунок 25. Геймпад Logitech Cordless Rumblepad 2.*

Если игра не поддерживает джойстик, можно сэмулировать нажатия клавиш с помощью программы Joy2key[12]. Обилие клавиш на геймпаде даже позволяет настроить его для управления медиацентром.

### Руль

В качестве развлечения, для ребенка за один вечер из старой игрушки был собран руль для Colin mcRae Rally. Я удалил из корпуса руля всё старую электронику радиоуправления и установил переменный резистор как датчик вращения.

![Рисунок 26](images/picture26.gif)

*Рисунок 26. Принципиальная схема руля.*

![Рисунок 27](images/picture27.jpg)

*Рисунок 27. Основа руля – переменный резистор.*

Точность работы такого руля оставляет желать лучшего, однако её достаточно, чтобы наиграться и не покупать имеющиеся в продаже цифровые рули. Не так уж и много игр поддерживают рули. Скажем, GTA3 руль не поддерживает (!).

![Рисунок 28](images/picture28.jpg)

## Заключение

В заключение, приведу своё личное мнение. Заменит ли самодельный HTPC бытовой DVD-плейер или DVD-Recorder? Вполне. Несмотря на долгий старт при включении (даже при возвращении из hibernate режима), HTPC обладает огромными возможностями, и это все компенсирует.

## Ссылки

1. Введение в HTPC (Home Theater Personal Computer)
   [http://www.ixbt.com/monitor/htpc-1.shtml](http://www.ixbt.com/monitor/htpc-1.shtml)

2. Собираем мультимедийный ПК (HTPC) для Blu-ray, HD-DVD и HDTV
   [http://www.thg.ru/desktop/htpc_blu_ray_hd-dvd_hdtv/onepage.html](http://www.thg.ru/desktop/htpc_blu_ray_hd-dvd_hdtv/onepage.html)

3. Простой авторегулятор для кулера на DC-DC преобразователе
   [http://people.overclockers.ru/Djemshut/records](http://people.overclockers.ru/Djemshut/records)

4. SpeedFan
   [http://www.almico.com/speedfan.php](http://www.almico.com/speedfan.php)

5. Как своими руками заставить материнскую плату управлять вентиляторами
   [http://www.hardwareportal.ru/Handmade/Mobofan/index.html](http://www.hardwareportal.ru/Handmade/Mobofan/index.html)

6. Регулятор скорости вентилятора
   [http://www.radioland.net.ua/sxemaid-401.html](http://www.radioland.net.ua/sxemaid-401.html)

7. Высокоэффективный автоматический контроллер вентиляторов своими руками
   [http://www.hardwareportal.ru/articles/Visokoeffektivniy_avtomaticheskiy_kontroller_ventilyatorov_svoimi_rukami/](http://www.hardwareportal.ru/articles/Visokoeffektivniy_avtomaticheskiy_kontroller_ventilyatorov_svoimi_rukami/)

8. Smart Fan своими руками
   [http://www.ferra.ru/online/supply/s25357/](http://www.ferra.ru/online/supply/s25357/)

9. S2kCtl
   [http://www.stargaz0r.nm.ru/](http://www.stargaz0r.nm.ru/)

10. Управляющая программа для контроля оборотов вентиляторов
    [FunDriver.rar](FunDriver.rar)

11. MediaPortal
    [http://www.team-mediaportal.com/](http://www.team-mediaportal.com/)

12. Joy2Key
    [http://www.electracode.com/4/joy2key/JoyToKey%20English%20Version.htm](http://www.electracode.com/4/joy2key/JoyToKey%20English%20Version.htm)

13. Universal infrared control engine (uIce)
    [http://www.mediatexx.com/download/index.htm](http://www.mediatexx.com/download/index.htm)

14. Управление ПК с помощью пульта от любого телика
    [http://reset-me.net.ru/catalog/stat/4/1/45.html](http://reset-me.net.ru/catalog/stat/4/1/45.html)

15. Girder
    [http://www.promixis.com/](http://www.promixis.com/)

16. SlyControl 2.0
    [http://slydiman.narod.ru/scr/index.htm](http://slydiman.narod.ru/scr/index.htm)

17. Три способа управления компьютером через любой ИК пульт
    [http://pc.km.ru/magazin/view.asp?id=930475682E1E444894AD231409E2AA81](http://pc.km.ru/magazin/view.asp?id=930475682E1E444894AD231409E2AA81)

18. Самодельный руль
    [http://www.joysticks.ru/wheels/samodel/05.shtml](http://www.joysticks.ru/wheels/samodel/05.shtml)

19. Самодельный руль для компьютера
    [http://reset-me.net.ru/catalog/stat/4/1/43.html](http://reset-me.net.ru/catalog/stat/4/1/43.html)
