# 4 axis Step/Dir –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —à–∞–≥–æ–≤—ã—Ö –¥–≤–∏–≥–∞—Ç–µ–ª–µ–π 2

*–°—Ç–∞—Ç—å—è –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–∞ –Ω–∞ —Å–∞–π—Ç–µ [radiokot.ru](http://radiokot.ru/circuit/digital/security/26/)*

–í —Å—Ç–∞—Ç—å–µ –æ–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è step/dir –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —É–Ω–∏–ø–æ–ª—è—Ä–Ω—ã—Ö —à–∞–≥–æ–≤—ã—Ö –¥–≤–∏–≥–∞—Ç–µ–ª–µ–π.
–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è [—Å–∞–º–æ–¥–µ–ª—å–Ω—ã–º —Å–≤–µ—Ä–ª–∏–ª—å–Ω–æ-—Ñ—Ä–µ–∑–µ—Ä–Ω—ã–º —Å—Ç–∞–Ω–∫–æ–º](/?start=2&folder=CNC%2F2013-09_4_axis_Step-Dir_%D0%BA%D0%BE%D0%BD%D1%82%D1%80%D0%BE%D0%BB%D0%BB%D0%B5%D1%80_%D1%88%D0%B0%D0%B3%D0%BE%D0%B2%D1%8B%D1%85_%D0%B4%D0%B2%D0%B8%D0%B3%D0%B0%D1%82%D0%B5%D0%BB%D0%B5%D0%B9_2&file=CNC%2F2009-06_DIY_CNC_2%2FDIY_CNC_2.md).

–ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ—Ç—Å—è, —á—Ç–æ —á–∏—Ç–∞—Ç–µ–ª—å —É–∂–µ –∑–Ω–∞–∫–æ–º —Å —Å–∞–º–æ–¥–µ–ª—å–Ω—ã–º–∏ –ß–ü–£ —Å—Ç–∞–Ω–∫–∞–º–∏; –∏–Ω–∞—á–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏–∑—É—á–∏—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª—ã, —É–∫–∞–∑–∞–Ω–Ω—ã–µ –≤ –∫–æ–Ω—Ü–µ —Å—Ç–∞—Ç—å–∏.

–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–ª—Å—è –≤–∑–∞–º–µ–Ω –∏–º–µ—é—â–µ–≥–æ—Å—è –ø—Ä–∏–º–∏—Ç–∏–≤–Ω–æ–≥–æ 3-—Ö –æ—Å–µ–≤–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ –Ω–∞ ATTiny2313. –û—Å–Ω–æ–≤–Ω—ã–º–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏ –±—ã–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –º–∏–∫—Ä–æ—à–∞–≥–∞ –∏ –∞–ø–ø–∞—Ä–∞—Ç–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å —Ç–æ–∫–∞ –≤ –æ–±–º–æ—Ç–∫–∞—Ö —Å —Ü–µ–ª—å—é —Å–Ω–∏–∂–µ–Ω–∏—è —à—É–º–∞ –∏ –ø–æ–≤—ã—à–µ–Ω–∏—è —Å–∫–æ—Ä–æ—Å—Ç–∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è.

![controller2](images/controller2.jpg)

–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:
* 4 –æ—Å–∏;
* –¥–ª—è —É–Ω–∏–ø–æ–ª—è—Ä–Ω—ã—Ö –¥–≤–∏–≥–∞—Ç–µ–ª–µ–π;
* –∞–ø–ø–∞—Ä–∞—Ç–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å —Ç–æ–∫–∞ –≤ –æ–±–º–æ—Ç–∫–∞—Ö (–®–ò–ú);
* –æ–ø—Ç–æ—Ä–∞–∑–≤—è–∑–∫–∞ —Å LPT –ø–æ—Ä—Ç–æ–º;
* —Ä–µ–∂–∏–º —É–¥–µ—Ä–∂–∞–Ω–∏—è —Å –ø–æ–Ω–∏–∂–µ–Ω–∏–µ–º —Ç–æ–∫–∞ –¥–æ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è;
* full step, half step, 4, 8,16 microstep –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–∞–Ω–∞–ª–∞;
* –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —á–∞—Å—Ç–æ—Ç–∞ —Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∏–º–ø—É–ª—å—Å–æ–≤ step: 12.5 –∫–ì—Ü (–ø–µ—Ä–∏–æ–¥ ‚Äì 80–º–∫—Å);
* –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ step –∏ dir –∏–º–ø—É–ª—å—Å–∞: 5–º–∫—Å;
* —Ç–æ–∫ –¥–≤–∏–≥–∞—Ç–µ–ª–µ–π ‚Äì –¥–æ 2–ê, –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ –¥–ª—è –∫–∞–∂–¥–æ–π –æ—Å–∏ (–±–æ–ª—å—à–µ 2–ê –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–ª–æ—Å—å, —Å—Ö–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç);
* –ø–∏—Ç–∞–Ω–∏–µ –¥–≤–∏–≥–∞—Ç–µ–ª–µ–π ‚Äì –¥–æ 30–í, —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —É–≤–µ–ª–∏—á–µ–Ω–∏—è (–±–æ–ª—å—à–µ 19–í –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–ª–æ—Å—å).

–í –æ–±—â–µ–º —Ü–µ–ª–æ–º, –ø–æ–ª—É—á–∏–ª—Å—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ "–Ω–∞–≤–æ—Ä–æ—á–µ–Ω–Ω—ã–π" –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –Ω–∞ –¥–µ—à—ë–≤—ã—Ö —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö. –ù–∏ –æ–¥–∏–Ω –∏–∑ –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –º–Ω–µ —Å–∞–º–æ–¥–µ–ª—å–Ω—ã—Ö –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤ —Ç–∞–∫–∏–º –Ω–∞–±–æ—Ä–æ–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –Ω–µ –æ–±–ª–∞–¥–∞–µ—Ç.

[http://www.youtube.com/watch?v=0DMpauxEPgk](http://www.youtube.com/watch?v=0DMpauxEPgk)

## –£–ø—Ä–∞–≤–ª—è—é—â–∏–π –º–æ–¥—É–ª—å

![StepperController2](images/StepperController2.png)

–£–ø—Ä–∞–≤–ª—è—é—â–∏–π –º–æ–¥—É–ª—å –≤—ã–ø–æ–ª–Ω–µ–Ω –Ω–∞ –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ ATMega8535, —Ä–∞–±–æ—Ç–∞—é—â–µ–º –Ω–∞ —á–∞—Å—Ç–æ—Ç–µ 16–ú–ì—Ü. –ó–∞–¥–∞—á–∞ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ ‚Äì –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Å–∏–≥–Ω–∞–ª—ã Step/Dir –∏ –≤—ã–¥–∞–≤–∞—Ç—å —Å–∏–≥–Ω–∞–ª—ã –≤–∫–ª—é—á–µ–Ω–∏—è –∏ –æ–ø–æ—Ä–Ω—ã–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è –¥–ª—è —Å–∏–ª–æ–≤–æ–π —á–∞—Å—Ç–∏ —Å—Ö–µ–º—ã.

–û–ø–æ—Ä–Ω—ã–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è —Ñ–æ—Ä–º–∏—Ä—É—é—Ç—Å—è –º–∏–∫—Ä–æ—Å—Ö–µ–º–æ–π M62359 ‚Äì —ç—Ç–æ 8-–±–∏—Ç 8-–∫–∞–Ω–∞–ª—å–Ω—ã–π DAC —Å SPI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º.

![controller1](images/controller1.jpg)

–û–ø—Ç–æ—Ä–∞–∑–≤—è–∑–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –Ω–∞ –æ–ø—Ç—Ä–æ–Ω–∞—Ö PC817 –∏ —è–≤–ª—è–µ—Ç—Å—è –Ω–µ–æ—Ç—ä–µ–º–ª–µ–º–æ–π —á–∞—Å—Ç—å—é –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞. –ù–∞ —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç–µ –Ω—É–∂–Ω–æ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ.

–ö–∞–∫ –≤–∏–¥–Ω–æ –∏–∑ —Å—Ö–µ–º—ã, –≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã—Ö –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤, —Å–∏–≥–Ω–∞–ª—ã Step –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –∫ –≤—ã–≤–æ–¥–∞–º –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–∑—ã–≤–∞—é—Ç –∞–ø–ø–∞—Ä–∞—Ç–Ω—ã–µ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è.
–í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∫—Ä—É—Ç–∏—Ç—Å—è –≤ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–º —Ü–∏–∫–ª–µ, –ø—Ä–æ–≤–µ—Ä—è—è, –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å –ª–∏ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ —É—Ä–æ–≤–Ω–∏ –Ω–∞ –≤—Ö–æ–¥–∞—Ö. –≠—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω—É—é –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—É—é —Ä–∞–±–æ—Ç—É –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞.

–û–¥–∏–Ω —Ü–∏–∫–ª (–ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ö–æ–¥–æ–≤, —Ä–µ–∞–∫—Ü–∏—è, –≤—ã–≤–æ–¥ —É–ø—Ä–∞–≤–ª—è—é—â–∏—Ö —Å–∏–≥–Ω–∞–ª–æ–≤) –∑–∞–Ω–∏–º–∞–µ—Ç –≤ —Ç–µ–∫—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ ~26–º–∫—Å. –ü—Ä–∏ —ç—Ç–æ–º –∑–∞—è–≤–ª–µ–Ω–Ω–∞—è –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –∏–º–ø—É–ª—å—Å–∞ Step ‚Äì 5–º–∫—Å. –ö–∞–∫–∏–º –∂–µ –æ–±—Ä–∞–∑–æ–º –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –Ω–µ –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç –∏–º–ø—É–ª—å—Å—ã?

–≠—Ç–æ, —Ç–∞–∫ —Å–∫–∞–∑–∞—Ç—å, –º–æ—ë –Ω–æ—É-—Ö–∞—É üôÇ
–°–µ–∫—Ä–µ—Ç ‚Äì –≤ —Å–≤–æ–π—Å—Ç–≤–∞—Ö –æ–ø—Ç—Ä–æ–Ω–æ–≤.

![pc817recovery](images/pc817recovery.png)

–í –¥–∞—Ç–∞—à–∏—Ç–µ –Ω–∞ PC817 –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≥—Ä–∞—Ñ–∏–∫–∏ Response time. –ü–æ—Å–ª–µ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è —Å–∏–≥–Ω–∞–ª–∞ –Ω–∞ –≤—Ö–æ–¥–µ, –æ–ø—Ç—Ä–æ–Ω—É —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–µ –≤—Ä–µ–º—è (ts + tf), —á—Ç–æ–±—ã –∑–∞–∫—Ä—ã—Ç—å—Å—è. –≠—Ç–æ –≤—Ä–µ–º—è –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–æ–∫–∞, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ—Ç–µ–∫–∞–µ—Ç —á–µ—Ä–µ–∑ —Ñ–æ—Ç–æ—Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä.

–ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:
–í—Ö–æ–¥–Ω—ã–µ –∏–º–ø—É–ª—å—Å—ã ‚Äì 5–º–∫—Å, –ø–µ—Ä–∏–æ–¥ ‚Äì 80 –º–∫—Å:

![input_5ms_max_rate](images/input_5ms_max_rate.gif)

–ù–∞–≥—Ä—É–∑–æ—á–Ω—ã–π —Ä–µ–∑–∏—Å—Ç–æ—Ä 10–∫–û–º –Ω–∞ 5–í ‚Äì –≤—Ö–æ–¥–Ω–æ–π –∏–º–ø—É–ª—å—Å 5–º–∫—Å –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ ~28–º–∫—Å (–æ–±–ª–∞—Å—Ç—å —É–≤–µ—Ä–µ–Ω–Ω–æ–≥–æ —á—Ç–µ–Ω–∏—è –≤—Ö–æ–¥–∞ AVR –∫–∞–∫ "0" ‚Äì 0.8Vcc = 1V):

![input_5ms_to_30ms_10k](images/input_5ms_to_30ms_10k.gif)

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —É –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ –µ—Å—Ç—å, –ø–æ –∫—Ä–∞–π–Ω–µ–π –º–µ—Ä–µ, 28 –º–∫—Å –Ω–∞ –æ–ø—Ä–æ—Å –≤—Ö–æ–¥–æ–≤.
–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –æ–Ω –≤ –æ–¥–∏–Ω–æ—á–∫—É –º–æ–∂–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Å—Ä–∞–∑—É 4-–º—è –æ—Å—è–º–∏.

## –°–∏–ª–æ–≤–∞—è —á–∞—Å—Ç—å

![UnipolarDriver2](images/UnipolarDriver2.png)

–ß–µ—Ç—ã—Ä–µ –ø–ª–∞—Ç—ã —Å–∏–ª–æ–≤–æ–π —á–∞—Å—Ç–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–¥–µ–Ω—Ç–∏—á–Ω—ã –∏ —Å–æ–±—Ä–∞–Ω—ã –Ω–∞ –º–∏–∫—Ä–æ—Å—Ö–µ–º–∞—Ö UC3842 –∏ —Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä–∞—Ö IRFZ44 –∏–ª–∏ IRF560 (—Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä—ã —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –Ω–∞ –æ–±—Ä–∞—Ç–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω–µ –ø–ª–∞—Ç—ã):

![powermodule](images/powermodule.jpg)

–¢–æ–∫ –≤ –∫–∞–∂–¥–æ–π –æ–±–º–æ—Ç–∫–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ–π –º–∏–∫—Ä–æ—Å—Ö–µ–º–æ–π –∏ —Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä–æ–º:

![UnipolarDriver2a](images/UnipolarDriver2a.png)

–ú–∏–∫—Ä–æ—Å—Ö–µ–º–∞ UC3842 ‚Äì —ç—Ç–æ –®–ò–ú –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –¥–ª—è –∏–º–ø—É–ª—å—Å–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –ø–∏—Ç–∞–Ω–∏—è. –û–Ω–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –®–ò–ú –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä, –∫–æ–º–ø–∞—Ä–∞—Ç–æ—Ä —Ç–æ–∫–∞, RS —Ç—Ä–∏–≥–≥–µ—Ä –∏ –¥—Ä–∞–π–≤–µ—Ä –ø–æ–ª–µ–≤–æ–≥–æ —Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä–∞. –í –æ–±—â–µ–º, –¥–ª—è —ç—Ç–∏—Ö —Ü–µ–ª–µ–π –ø–æ–¥—Ö–æ–¥–∏—Ç –∏–¥–µ–∞–ª—å–Ω–æ üôÇ

–ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ —è –ø—ã—Ç–∞–ª—Å—è —Å–æ–±—Ä–∞—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –Ω–∞ –º–∏–∫—Ä–æ—Å—Ö–µ–º–∞—Ö TL494. –ù–æ, –∫–∞–∫ –≤—ã—è—Å–Ω–∏–ª–æ—Å—å, —ç—Ç–∏ –º–∏–∫—Ä–æ—Å—Ö–µ–º—ã –Ω–µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω—ã –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ —Ç–æ–∫–∞ –≤ —Ç–µ—á–µ–Ω–∏–∏ –æ–¥–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞ –®–ò–ú. –ò—Ö –≤—Ö–æ–¥–Ω—ã–µ —Å–µ–Ω—Å–æ—Ä—ã —Ç–æ–∫–∞ –∏ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–±—Ä–µ–∑–∞–Ω—ã —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ —Å —á–∞—Å—Ç–æ—Ç–æ–π 10-15–∫–ì—Ü.

![uc3842](images/uc3842.png)

UC3842, –Ω–∞–ø—Ä–æ—Ç–∏–≤, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ —Ç–æ–∫–∞ —á–µ—Ä–µ–∑ –æ–±–º–æ—Ç–∫—É —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ç–æ—Ä–∞ –≤ —Ç–µ—á–µ–Ω–∏–∏ –æ–¥–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞. –û–Ω–∞ –≤—ã–∫–ª—é—á–∞–µ—Ç —Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä –≤ –º–æ–º–µ–Ω—Ç –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ —Ç–æ–∫–∞:

![UC3842coil](images/UC3842coil.png)

–û–ø–æ—Ä–Ω–æ–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ, —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –¶–ê–ü –Ω–∞ —É–ø—Ä–∞–≤–ª—è—é—â–µ–º –º–æ–¥—É–ª–µ, –ø–æ—Å—Ç—É–ø–∞–µ—Ç –Ω–∞ –≤—Ö–æ–¥ Comp –º–∏–∫—Ä–æ—Å—Ö–µ–º—ã. –í –Ω–∞—á–∞–ª–µ –ø–µ—Ä–∏–æ–¥–∞ –®–ò–ú –º–∏–∫—Ä–æ—Å—Ö–µ–º–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä. –¢–æ–∫ –≤ –æ–±–º–æ—Ç–∫–µ –Ω–∞—á–∏–Ω–∞–µ—Ç –ø–ª–∞–≤–Ω–æ –Ω–∞—Ä–∞—Å—Ç–∞—Ç—å. –ö–∞–∫ —Ç–æ–ª—å–∫–æ —Ç–æ–∫ –ø—Ä–µ–≤—ã—à–∞–µ—Ç –∑–∞–¥–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, –º–∏–∫—Ä–æ—Å—Ö–µ–º–∞ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç —Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä.

UC3842 –∏–∑–º–µ—Ä—è–µ—Ç —Ç–æ–∫ –≤ –æ–±–º–æ—Ç–∫–µ –ø–æ –ø–∞–¥–µ–Ω–∏—é –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è –Ω–∞ —Ç–æ–∫–æ–∏–∑–º–µ—Ä–∏—Ç–µ–ª—å–Ω–æ–º —Ä–µ–∑–∏—Å—Ç–æ—Ä–µ. –ö—Ä–æ–º–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Å –æ–ø–æ—Ä–Ω—ã–º –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ–º, –≤ –º–∏–∫—Ä–æ—Å—Ö–µ–º–µ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω–∞ –∑–∞—â–∏—Ç–∞ –ø–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–º—É —Ç–æ–∫—É, –∫–æ—Ç–æ—Ä–∞—è –æ—Ç–∫–ª—é—á–∞–µ—Ç —Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä –ø—Ä–∏ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–∏ –Ω–∞ Isence –≤—ã—à–µ 1–í. –ü–æ—ç—Ç–æ–º—É —Ç–æ–∫–æ–∏–∑–º–µ—Ä–∏—Ç–µ–ª—å–Ω—ã–π —Ä–µ–∑–∏—Å—Ç–æ—Ä –Ω—É–∂–Ω–æ –≤—ã–±–∏—Ä–∞—Ç—å —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —á—Ç–æ–±—ã –ø—Ä–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–º —Ç–æ–∫–µ –ø–∞–¥–µ–Ω–∏–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è –Ω–∞ –Ω—ë–º —Å–æ—Å—Ç–∞–≤–ª—è–ª–æ —á—É—Ç—å –º–µ–Ω—å—à–µ 1–í. –¢–æ—á–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ —Ç–æ–∫–∞ –∑–∞–¥–∞—ë—Ç—Å—è –≤ –ø—Ä–æ—à–∏–≤–∫–µ. –ù–∞ –ø–ª–∞—Ç–µ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω—ã –º–µ—Å—Ç–∞ –¥–ª—è —Ä–µ–∑–∏—Å—Ç–æ—Ä–æ–≤ R9-R11, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç –Ω–∞–±—Ä–∞—Ç—å —Ç—Ä–µ–±—É–µ–º–æ–µ —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ.

–ú–∏–∫—Ä–æ—Å—Ö–µ–º–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä, —á–∞—Å—Ç–æ—Ç–∞ –∫–æ—Ç–æ—Ä–æ–≥–æ –∑–∞–¥–∞—ë—Ç—Å—è —Ü–µ–ø–æ—á–∫–æ–π R3C2.

![rtct](images/rtct.jpg)

–í–æ –≤—Ä–µ–º—è —Ä–∞–∑—Ä—è–¥–∞ –∫–æ–Ω–¥–µ–Ω—Å–∞—Ç–æ—Ä–∞, –≤—ã—Ö–æ–¥–Ω–æ–π —Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è (—ç—Ç–æ dead time). –í—ã–±–æ—Ä–æ–º –Ω–æ–º–∏–Ω–∞–ª–æ–≤ R3C2 –º–æ–∂–Ω–æ –∑–∞–¥–∞–≤–∞—Ç—å –∏ —á–∞—Å—Ç–æ—Ç—É, –∏ dead time. –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ, —ç—Ç–∏ —ç–ª–µ–º–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –¥–ª—è –≤—Å–µ—Ö –æ–±–º–æ—Ç–æ–∫.

–ß–∞—Å—Ç–æ—Ç—É –®–ò–ú –≤—ã–±–∏—Ä–∞—é—Ç –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ –¥–ª—è –¥–≤–∏–≥–∞—Ç–µ–ª—è, —É—á–∏—Ç—ã–≤–∞—è –ø–æ–≤—ã—à–µ–Ω–∏–µ –Ω–∞–≥—Ä–µ–≤–∞ –¥–≤–∏–≥–∞—Ç–µ–ª—è —Å –ø–æ–≤—ã—à–µ–Ω–∏–µ–º —á–∞—Å—Ç–æ—Ç—ã.

–ß—Ç–æ–±—ã –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∏–≥–Ω–∞–ª Clock, –∫–æ—Ç–æ—Ä—ã–π —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä. –ß–∞—Å—Ç–æ—Ç–∞ –∏ dead time –ø—Ä–∏ —ç—Ç–æ–º –∑–∞–¥–∞—é—Ç—Å—è –≤ –ø—Ä–æ—à–∏–≤–∫–µ. –≠–ª–µ–º–µ–Ω—Ç—ã R3C2 –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è ‚Äì —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Ä–µ–∑–∏—Å—Ç–æ—Ä R4.

–û–¥–∏–Ω –≤—ã—Ö–æ–¥ –¶–ê–ü —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –æ–ø–æ—Ä–Ω–æ–µ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ –¥–ª—è –ø–∞—Ä—ã –æ–±–º–æ—Ç–æ–∫ (—Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –º–æ–∂–µ—Ç –±—ã—Ç—å –≤–∫–ª—é—á–µ–Ω–∞ –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç). –ü–æ—ç—Ç–æ–º—É —É–ø—Ä–∞–≤–ª—è—é—â–∏–π –º–æ–¥—É–ª—å –æ—Ç–∫–ª—é—á–∞–µ—Ç (–≤—ã—Å–æ–∫–∏–º –ª–æ–≥–∏—á–µ—Å–∫–∏–º —É—Ä–æ–≤–Ω–µ–º) –ø–∞—Ä–Ω—É—é –æ–±–º–æ—Ç–∫—É —Å–∏–≥–Ω–∞–ª–æ–º /M_L1EN.

–¶–µ–ø–æ—á–∫–∞ R1C1 –ø–æ–¥–±–∏—Ä–∞–µ—Ç—Å—è —Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —á—Ç–æ–±—ã –ø–æ–≥–∞—Å–∏—Ç—å –≤—Å–ø–ª–µ—Å–∫ —Ç–æ–∫–∞, –≤–æ–∑–Ω–∏–∫–∞—é—â–∏–π –ø—Ä–∏ –æ—Ç–∫—Ä—ã–≤–∞–Ω–∏–∏ —Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä–∞:

![R1C1](images/R1C1.jpg)

–î–∏–æ–¥ D1 —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ. –ú–Ω–µ —Ö–≤–∞—Ç–∏–ª–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –≤ MOSFET.

–ü—Ä–∏ –≤—ã–∫–ª—é—á–µ–Ω–∏–∏ —Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä–æ–≤ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –≤—ã–±—Ä–æ—Å—ã –ø—Ä–æ—Ç–∏–≤–æ–≠–î–°, –ø—Ä–∏ —ç—Ç–æ–º –≤—ã–±—Ä–æ—Å—ã –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è –Ω–∞ Drain-Source —Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä–æ–≤ –º–æ–≥—É—Ç –ø—Ä–µ–≤—ã—à–∞—Ç—å –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ –ø–∏—Ç–∞–Ω–∏—è –≤ 3 —Ä–∞–∑–∞: –ø–∏—Ç–∞–Ω–∏–µ ‚Äì 19–í, –î–®–ò-200:

![draintosource55v](images/draintosource55v.gif)

–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏ —ç—Ç–∏ –≤—ã–±—Ä–æ—Å—ã –≥–∞—Å—è—Ç —à—É–Ω—Ç–∏—Ä—É—é—â–∏–º–∏ –¥–∏–æ–¥–∞–º–∏, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º–∏ –Ω–∞ –æ–±–º–æ—Ç–∫–∏, –ª–∏–±–æ –æ—Ç–≤–æ–¥—è—Ç –≤ –∏—Å—Ç–æ—á–Ω–∏–∫ –ø–∏—Ç–∞–Ω–∏—è. –û–¥–Ω–∞–∫–æ –Ω—É–∂–Ω–æ —É—á–∏—Ç—ã–≤–∞—Ç—å, —á—Ç–æ –∑–∞—à—É–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –æ–±–º–æ—Ç–∫–∞ —Ç–æ—Ä–º–æ–∑–∏—Ç –¥–≤–∏–≥–∞—Ç–µ–ª—å –∏ –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –≤—ã—Å–æ–∫—É—é —Å–∫–æ—Ä–æ—Å—Ç—å –≤—Ä–∞—â–µ–Ω–∏—è. –ü–æ—ç—Ç–æ–º—É –≤—ã–±—Ä–æ—Å—ã –Ω—É–∂–Ω–æ –≥–∞—Å–∏—Ç—å —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ø—Ä–µ–¥–µ–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è, —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç—Å—è –≤–∫–ª—é—á–µ–Ω–∏–µ–º —Å—Ç–∞–±–∏–ª–∏—Ç—Ä–æ–Ω–∞ –Ω–∞–≤—Å—Ç—Ä–µ—á—É –¥–∏–æ–¥—É:

![UnipolarDriver2b](images/UnipolarDriver2b.png)

–ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ –≤—ã–±—Ä–∞—Ç—å —Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä—ã —Å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–æ–ª—å—à–∏–º Vdss. –Ø –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª IRF540N (Vdss = 100–í) –¥–ª—è –¥–≤–∏–≥–∞—Ç–µ–ª—è –î–®–ò-200 –∏ IRFZ44N (Vdss = 55–í) –¥–ª—è –¥–≤–∏–≥–∞—Ç–µ–ª–µ–π –æ—Ç –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤.

–ù–∞–ø–æ–º–Ω—é, —á—Ç–æ Vdss ‚Äì —ç—Ç–æ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ –º–µ–∂–¥—É Drain –∏ Source, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º —Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä —Å–∞–º–æ–ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è. –ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ —ç—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Ä–∞–±–æ—Ç—É –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞, –Ω–∞–≥—Ä–µ–≤ —Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä–æ–≤ –ø—Ä–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –º–∞–ª—ã—Ö —Ç–æ–∫–∞—Ö —á–µ—Ä–µ–∑ –Ω–∏—Ö, –∏–ª–∏ –≤—ã—Ö–æ–¥ —Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä–æ–≤ –∏–∑ —Å—Ç—Ä–æ—è. –î–ª—è –¥–≤–∏–≥–∞—Ç–µ–ª–µ–π –¥–æ 3–ê, –º–æ—Å—Ñ–µ—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ö–æ–ª–æ–¥–Ω—ã–º–∏; —Ä–∞–¥–∏–∞—Ç–æ—Ä—ã –Ω–∞ –Ω–∏—Ö –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è.

## –ü–∏—Ç–∞–Ω–∏–µ

–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∑–∞–ø–∏—Ç–∞–Ω –æ—Ç –±–ª–æ–∫–∞ –ø–∏—Ç–∞–Ω–∏—è –æ—Ç –Ω–æ—É—Ç–±—É–∫–∞ –Ω–∞ 19–í 3–ê.

![PSU](images/PSU.jpg)

5–í –ø–æ–ª—É—á–µ–Ω—ã —Å –ø–æ–º–æ—â—å—é –≥–æ—Ç–æ–≤–æ–≥–æ –º–æ–¥—É–ª—è DC-DC –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ LM2596, –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –Ω–∞ ebay:

![DCDC](images/DCDC.jpg)

## –ü–æ—á–µ–º—É –≤–∞–∂–µ–Ω –∫–æ–Ω—Ç—Ä–æ–ª—å —Ç–æ–∫–∞

–í —Å—Ç–∞–±–∏–ª—å–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —Ç–æ–∫ –≤ –æ–±–º–æ—Ç–∫–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–º —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ–º –æ–±–º–æ—Ç–∫–∏ –∏ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ–º –ø–∏—Ç–∞–Ω–∏—è. –ù–æ –≤ –º–æ–º–µ–Ω—Ç –≤–∫–ª—é—á–µ–Ω–∏—è —Ç–æ–∫ –≤ –æ–±–º–æ—Ç–∫–µ –∑–∞–≤–∏—Å–∏—Ç –∏ –æ—Ç –∞–∫—Ç–∏–≤–Ω–æ–≥–æ, –∏ –æ—Ç —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏—è. –ü–æ—ç—Ç–æ–º—É –≤–º–µ—Å—Ç–æ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω—ã—Ö –∏–º–ø—É–ª—å—Å–æ–≤ —Ç–æ–∫–∞ –º—ã —É–≤–∏–¥–∏–º —Å–ª–µ–¥—É—é—â—É—é –∫–∞—Ä—Ç–∏–Ω—É:

![current1](images/current1.png)

–ß–µ–º –±–æ–ª—å—à–µ –∏–Ω–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –æ–±–º–æ—Ç–∫–∏, —Ç–µ–º –¥–æ–ª—å—à–µ –±—É–¥—É—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å –Ω–∞—Ä–∞—Å—Ç–∞–Ω–∏—è –∏ —Å–ø–∞–¥—ã —Ç–æ–∫–∞. –ü—Ä–∏ –ø–æ–≤—ã—à–µ–Ω–∏–∏ —Å–∫–æ—Ä–æ—Å—Ç–∏ –≤—Ä–∞—â–µ–Ω–∏—è, —Ç–æ–∫ –Ω–µ –±—É–¥–µ—Ç —É—Å–ø–µ–≤–∞—Ç—å –Ω–∞—Ä–∞—Å—Ç–∞—Ç—å –¥–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è, –∏ –º–æ–º–µ–Ω—Ç –¥–≤–∏–≥–∞—Ç–µ–ª—è –Ω–∞—á–Ω—ë—Ç –ø–∞–¥–∞—Ç—å:

![current2](images/current2.png)

–ß—Ç–æ–±—ã –æ–±–µ—Å–ø–µ—á–∏—Ç—å –±—ã—Å—Ç—Ä–æ–µ –Ω–∞—Ä–∞—Å—Ç–∞–Ω–∏–µ —Ç–æ–∫–∞, –Ω—É–∂–Ω–æ —É–≤–µ–ª–∏—á–∏—Ç—å –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ –ø–∏—Ç–∞–Ω–∏—è. –ù–æ –≤ —Å—Ç–∞–±–∏–ª—å–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —Ç–æ–∫ –≤ –æ–±–º–æ—Ç–∫–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–º —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ–º –æ–±–º–æ—Ç–∫–∏. –ü–æ—ç—Ç–æ–º—É –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ç–æ–∫–∞ –ø—Ä–∏ –ø–æ–≤—ã—à–µ–Ω–∏–∏ –ø–∏—Ç–∞—é—â–µ–≥–æ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è —è–≤–ª—è–µ—Ç—Å—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º.

–°–ª–µ–¥—É–µ—Ç —É–ø–æ–º—è–Ω—É—Ç—å –µ—â—ë –æ–¥–∏–Ω —Å–ø–æ—Å–æ–± –ø–æ–≤—ã—à–µ–Ω–∏—è –æ–±–æ—Ä–æ—Ç–æ–≤. –ù–∞–ø—Ä—è–∂–µ–Ω–∏–µ –ø–∏—Ç–∞–Ω–∏—è –¥–≤–∏–≥–∞—Ç–µ–ª—è –ø–æ–≤—ã—à–∞—é—Ç, –∞ —Å–∞–º –¥–≤–∏–≥–∞—Ç–µ–ª—å –≤–∫–ª—é—á–∞—é—Ç —á–µ—Ä–µ–∑ –º–æ—â–Ω–æ–µ —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ. –≠—Ç–∏–º –º—ã —É–º–µ–Ω—å—à–∞–µ–º –¥–æ–ª—é —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏—è –≤ —Ü–µ–ø–∏ –æ–±–º–æ—Ç–∫–∏. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —Ä–µ—à–∞—é—Ç—Å—è —Å—Ä–∞–∑—É –¥–≤–µ –∑–∞–¥–∞—á–∏: –ø–æ–≤—ã—à–µ–Ω–∏–µ –æ–±–æ—Ä–æ—Ç–æ–≤ –¥–≤–∏–≥–∞—Ç–µ–ª—è –∏ –æ–±–æ–≥—Ä–µ–≤ –º–∞—Å—Ç–µ—Ä—Å–∫–æ–π üôÇ

## –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã –¥–≤–∏–≥–∞—Ç–µ–ª—è

–†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã –¥–≤–∏–≥–∞—Ç–µ–ª—è —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ –ø—Ä–æ—à–∏–≤–∫–µ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ –¥–ª—è –∫–∞–∂–¥–æ–π –æ—Å–∏.

### Full Step, Full phase (–ø–æ–ª–Ω—ã–π —à–∞–≥, –æ–¥–Ω–∞ –æ–±–º–æ—Ç–∫–∞)

![fullstep](images/fullstep.jpg)

–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —Ä–µ–∂–∏–º, –≤ –∫–æ—Ç–æ—Ä–æ–º –≤ –∫–∞–∂–¥—ã–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ –≤–∫–ª—é—á–µ–Ω–∞ –æ–¥–Ω–∞ –æ–±–º–æ—Ç–∫–∞.

### Full Step, Half phase

![fullstephalf](images/fullstephalf.jpg)

–†–µ–∂–∏–º, –≤ –∫–æ—Ç–æ—Ä–æ–º –≤ –∫–∞–∂–¥—ã–π –º–æ–º–µ–Ω—Ç –≤–∫–ª—é—á–µ–Ω—ã 2 —Å–æ—Å–µ–¥–Ω–∏–µ –æ–±–º–æ—Ç–∫–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ. –¢–∞–∫–∏–º –≤–∫–ª—é—á–µ–Ω–∏–µ–º –º–æ–∂–Ω–æ –¥–æ–±–∏—Ç—å—Å—è –ø–æ–≤—ã—à–µ–Ω–∏—è –º–æ–º–µ–Ω—Ç–∞ –¥–≤–∏–≥–∞—Ç–µ–ª—è (–ª–µ–≥–∫–æ —Ä–µ–∞–ª–∏–∑—É–µ–º, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Ç–µ–∫—É—â–µ–π –ø—Ä–æ—à–∏–≤–∫–µ).

### Half step

![halfstep](images/halfstep.png)

–ö–æ–º–±–∏–Ω–∞—Ü–∏—è –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Ä–µ–∂–∏–º–æ–≤. –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —à–∞–≥–æ–≤ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –≤–¥–≤–æ–µ. –ö–æ–≥–¥–∞ –≤–∫–ª—é—á–µ–Ω—ã –¥–≤–µ –æ–±–º–æ—Ç–∫–∏, —Ç–æ–∫ –≤ –∫–∞–∂–¥–æ–π —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ 0.707 * Imax.

### Microstep 4, 8, 16

–ï—Å–ª–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å, –∫–∞–∫ –≤—Ä–∞—â–∞–µ—Ç—Å—è –¥–≤–∏–≥–∞—Ç–µ–ª—å –≤ —Ä–µ–∂–∏–º–µ –ø–æ–ª–Ω–æ–≥–æ —à–∞–≥–∞ ‚Äì –º–æ–∂–Ω–æ –∑–∞–º–µ—Ç–∏—Ç—å, —á—Ç–æ –æ–Ω –¥–≤–∏–≥–∞–µ—Ç—Å—è —Ä—ã–≤–∫–∞–º–∏: —Å–Ω–∞—á–∞–ª–∞ —Ä–∞–∑–≥–æ–Ω—è–µ—Ç—Å—è, –ø—Ä–∏—Ç—è–≥–∏–≤–∞–µ–º—ã–π –æ—á–µ—Ä–µ–¥–Ω–æ–π –æ–±–º–æ—Ç–∫–æ–π, –ø–æ—Ç–æ–º –∑–∞—Ç–æ—Ä–º–∞–∂–∏–≤–∞–µ—Ç—Å—è, –¥–æ—Å—Ç–∏–≥–Ω—É–≤ –∫–æ–Ω–µ—á–Ω–æ–≥–æ –ø–æ–ª–æ–∂–µ–Ω–∏—è. –≠—Ç–æ –≤—ã–∑—ã–≤–∞–µ—Ç –≤–∏–±—Ä–∞—Ü–∏–∏ –≤–∞–ª–∞ –∏ –≤—Å–µ–≥–æ —Å—Ç–∞–Ω–∫–∞ –≤ —Ü–µ–ª–æ–º.
–¢–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–Ω–æ–∫, –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ –≤–æ–ø—Ä–æ—Å —Å–Ω–∏–∂–µ–Ω–∏—è —à—É–º–∞ –Ω–µ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–ª—Å—è:

[http://www.youtube.com/watch?v=YQvpDsHbOX8](http://www.youtube.com/watch?v=YQvpDsHbOX8)

–ó–¥–µ—Å—å –≤—Å—ë –ø–ª–æ—Ö–æ ‚Äì –º–æ—â–Ω—ã–µ –¥–≤–∏–≥–∞—Ç–µ–ª–∏ –≤ —Ä–µ–∂–∏–º–µ –ø–æ–ª–Ω–æ–≥–æ —à–∞–≥–∞, –æ–≥—Ä–æ–º–Ω—ã–π —Ä–µ–∑–æ–Ω–∏—Ä—É—é—â–∏–π –∫–æ—Ä–ø—É—Å –∏–∑ –î–°–ü‚Ä¶ –°–æ–≤—Å–µ–º –∫–∞–∫ –≤ –º–æ—ë–º –ø–µ—Ä–≤–æ–º —Å—Ç–∞–Ω–∫–µ, –∫–æ—Ç–æ—Ä—ã–π –∏ –ø—Ä–∏—à–ª–æ—Å—å —Ä–∞–∑–æ–±—Ä–∞—Ç—å –∏–∑-–∑–∞ —à—É–º–Ω–æ—Å—Ç–∏ üôÇ –í –∂–∏–ª–æ–º –ø–æ–º–µ—â–µ–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å —Å–Ω–∏–∂–µ–Ω–∏—è —à—É–º–∞ ‚Äì —ç—Ç–æ –Ω–µ –ø—Ä–∏—Ö–æ—Ç—å, —ç—Ç–æ ‚Äì –≤–æ–ø—Ä–æ—Å, –±—É–¥–µ—Ç –ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞–Ω–æ–∫ –≤–æ–æ–±—â–µ.

–ß—Ç–æ–±—ã –æ–±–µ—Å–ø–µ—á–∏—Ç—å –ø–ª–∞–≤–Ω–æ–µ –≤—Ä–∞—â–µ–Ω–∏–µ –¥–≤–∏–≥–∞—Ç–µ–ª—è, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–∏—Ç–∞—Ç—å –¥–≤–∏–≥–∞—Ç–µ–ª—å —Å–∏–Ω—É—Å–æ–∏–¥–∞–ª—å–Ω—ã–º —Ç–æ–∫–æ–º. –î–ª—è —ç—Ç–æ–≥–æ –≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞—Ö —à–∞–≥–æ–≤—ã—Ö –¥–≤–∏–≥–∞—Ç–µ–ª–µ–π –º–æ–º–µ–Ω—Ç –ø–µ—Ä–µ—Ö–æ–¥–∞ –æ—Ç –æ–¥–Ω–æ–π –æ–±–º–æ—Ç–∫–∏ –∫ –¥—Ä—É–≥–æ–π –¥–µ–ª—è—Ç –Ω–∞ 4-16 –º–∏–∫—Ä–æ—à–∞–≥–æ–≤. –ù–∞ –∫–∞–∂–¥–æ–º –º–∏–∫—Ä–æ—à–∞–≥–µ —Ç–æ–∫ –≤ –ø–µ—Ä–≤–æ–π –æ–±–º–æ—Ç–∫–µ —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è, –∞ –≤–æ –≤—Ç–æ—Ä–æ–π ‚Äì —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è, –ø–æ —Å–∏–Ω—É—Å–æ–∏–¥–∞–ª—å–Ω–æ–º—É –∑–∞–∫–æ–Ω—É:

![microstep4](images/microstep4.png)

–ü—Ä–∏ —ç—Ç–æ–º —á–∞—Å—Ç–æ—Ç–∞ –∏–º–ø—É–ª—å—Å–æ–≤ Step –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —É–≤–µ–ª–∏—á–µ–Ω–∞ –≤ 4-16 —Ä–∞–∑ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ.

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–∏–∫—Ä–æ—à–∞–≥–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —Å–Ω–∏–∑–∏—Ç—å —à—É–º –¥–≤–∏–≥–∞—Ç–µ–ª—è –∏ –ø–æ–ª—É—á–∏—Ç—å –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–∏–π –º–æ–º–µ–Ω—Ç –Ω–∞ –±–æ–ª—å—à–∏—Ö —Å–∫–æ—Ä–æ—Å—Ç—è—Ö. –°—Ç–∞–Ω–æ–∫ –Ω–∞—á–∏–Ω–∞–µ—Ç "–∑–≤—É—á–∞—Ç—å –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ":

[http://www.youtube.com/watch?v=Xa-EOXH8j98](http://www.youtube.com/watch?v=Xa-EOXH8j98)

–Ø –ª–∏—á–Ω–æ –Ω–µ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—é –º–∏–∫—Ä–æ—à–∞–≥ –∫–∞–∫ —Å–ø–æ—Å–æ–± –ø–æ–≤—ã—à–µ–Ω–∏—è —Ç–æ—á–Ω–æ—Å—Ç–∏ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è, –ø–æ—Ç–æ–º—É —á—Ç–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —Ä–æ—Ç–æ—Ä–∞ –∏ —Å—Ç–∞—Ç–æ—Ä–∞ –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ–≥–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –º–∏–∫—Ä–æ—à–∞–≥–æ–≤. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –ø—Ä–∏ –Ω–µ–±–æ–ª—å—à–æ–º —É—Å–∏–ª–∏–∏, –∏–ª–∏ –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –≤ —Ä–µ–∂–∏–º —É–¥–µ—Ä–∂–∞–Ω–∏—è, –≤–∞–ª –¥–≤–∏–≥–∞—Ç–µ–ª—è –º–æ–∂–µ—Ç "–≤—ã–ø–∞–¥–∞—Ç—å" –≤ –ø–æ–ª–æ–∂–µ–Ω–∏—è –ø–æ–ª–Ω–æ–≥–æ —à–∞–≥–∞.

![rotor](images/rotor.jpg)

## –†–µ–∂–∏–º —É–¥–µ—Ä–∂–∞–Ω–∏—è

–ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –∏–º–ø—É–ª—å—Å–æ–≤ Step –≤ —Ç–µ—á–µ–Ω–∏–∏ ~2 —Å–µ–∫—É–Ω–¥, –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –ø–æ–Ω–∏–∂–∞–µ—Ç —Ç–æ–∫ –≤ –æ–±–º–æ—Ç–∫–∞—Ö –¥–æ –∑–Ω–∞—á–µ–Ω–∏–π, —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ –¥–ª—è –∫–∞–∂–¥–æ–π –æ—Å–∏ –≤ –ø—Ä–æ—à–∏–≤–∫–µ.

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –º–æ–¥—É–ª—è–º–∏ –Ω–∞ —á–∏–ø–∞—Ö Allegro

–ü–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å —Å–∞–º–æ–¥–µ–ª—å–Ω—ã—Ö 3D –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤ –≤—ã–∑–≤–∞–ª–∞ –ø–æ—è–≤–ª–µ–Ω–∏–µ –Ω–∞ ebay –≥–æ—Ç–æ–≤—ã—Ö –º–æ–¥—É–ª–µ–π –Ω–∞ —á–∏–ø–∞—Ö A4983, –∫–æ–Ω–∫—É—Ä–∏—Ä–æ–≤–∞—Ç—å —Å –∫–æ—Ç–æ—Ä—ã–º–∏ "—Ä–∞—Å—Å—ã–ø—É—Ö–æ–π" –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å–ª–æ–∂–Ω–æ. –° –¥—Ä—É–≥–æ–π —Å—Ç–æ—Ä–æ–Ω—ã, –º–Ω–µ –±—ã–ª–æ —Å–ø–æ–∫–æ–π–Ω–µ–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–æ —Å—Ö–µ–º–æ–π, –≥–¥–µ –≤ —Ö—É–¥—à–µ–º —Å–ª—É—á–∞–µ –ø—Ä–∏–¥—ë—Ç—Å—è –∑–∞–º–µ–Ω–∏—Ç—å –∫–ª—é—á–∏, —á–µ–º —Å –º–∏–∫—Ä–æ—Å—Ö–µ–º–æ–π 3√ó3–º–º, –∫–æ—Ç–æ—Ä–∞—è –≤–∑–æ—Ä–≤—ë—Ç—Å—è –ø—Ä–∏ –ª—é–±–æ–π –æ—à–∏–±–∫–µ.

![a4983](images/a4983.jpg)

–ö—Ä–æ–º–µ —Ç–æ–≥–æ, –≤ –±—É–¥—É—â–µ–º –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è —Ä–∞—Å—à–∏—Ä–∏—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –¥–ª—è –∞–≤—Ç–æ–Ω–æ–º–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –Ω–µ–±–æ–ª—å—à–æ–≥–æ –ø—É–ª—å—Ç–∞, —Ç–∞–∫ –∫–∞–∫ —Å–æ—Å—Ç–∞–≤–ª—è—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—É –∫–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Å–¥–µ–ª–∞—Ç—å —Ä–æ–≤–Ω—ã–π —Ä–µ–∑ ‚Äì –Ω–µ—É–¥–æ–±–Ω–æ. –ê –≤ —Å–æ–≤—Å–µ–º –æ—Ç–¥–∞–ª—ë–Ω–Ω–æ–º –±—É–¥—É—â–µ–º, –≤–æ–∑–º–æ–∂–Ω–æ, –ø–æ–ª—É—á–∏—Ç—Å—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ USB (—ç—Ç–æ –∫–æ–≥–¥–∞ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –æ–ø–∏—Å–∞–Ω–∏–µ —à–∞–≥–æ–≤ —Å USB-UART –∏ —Å–∞–º –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —à–∞–≥–∏).

–û–ø–∏—Å—ã–≤–∞–µ–º—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–µ–Ω 4-–º —Ç–∞–∫–∏–º –º–æ–¥—É–ª—è–º + –ø–ª–∞—Ç–∞ –æ–ø—Ç–æ—Ä–∞–∑–≤—è–∑–∫–∏.

–û—Ç–ª–∏—á–∏—è:
‚Äì –≤ —á–∏–ø–∞—Ö Allegro –≤—ã–±—Ä–æ—Å—ã —Ç–æ–∫–∞ –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ —Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä–æ–≤ –º–æ—Å—Ç–∞ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –≤—Ä–µ–º–µ–Ω–∏ ‚Äì 1us. –ó–¥–µ—Å—å –≤—ã–±—Ä–æ—Å—ã –ø–æ–¥–∞–≤–ª—è—é—Ç—Å—è —Ü–µ–ø–æ—á–∫–æ–π R1C1;
‚Äì —á–∏–ø—ã Allegro —É–º–µ—é—Ç –≤–∫–ª—é—á–∞—Ç—å "—Ä–µ–∂–∏–º –±—ã—Å—Ç—Ä–æ–≥–æ —Å–Ω–∏–∂–µ–Ω–∏—è —Ç–æ–∫–∞". –ï—Å–ª–∏ –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–º –º–∏–∫—Ä–æ—à–∞–≥–µ —Ç–æ–∫ –≤ –æ–±–º–æ—Ç–∫–µ –¥–æ–ª–∂–µ–Ω —Å–Ω–∏–∑–∏—Ç—Å—è, —á–∏–ø –∫—Ä–∞—Ç–∫–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —à—É–Ω—Ç–∏—Ä—É–µ—Ç –æ–±–º–æ—Ç–∫—É, –æ—Ç–∫—Ä—ã–≤–∞—è —Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä—ã –º–æ—Å—Ç–∞. –í–≤–µ–¥–µ–Ω–∏–µ —Ç–∞–∫–æ–π –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤ –¥–∞–Ω–Ω—ã–π (—É–Ω–∏–ø–æ–ª—è—Ä–Ω—ã–π) –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —Å–ª–∏—à–∫–æ–º —Å–∏–ª—å–Ω–æ —É—Å–ª–æ–∂–Ω–∏–ª–æ –±—ã —Å—Ö–µ–º—É;
‚Äì —É A4983 –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —á–∞—Å—Ç–æ—Ç–∞ –∏–º–ø—É–ª—å—Å–æ–≤ STEP —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç 1/2us = 500–∫–ì—Ü.

–Ø –ø—Ä–æ–±–æ–≤–∞–ª –ø–æ–¥–∫–ª—é—á–∞—Ç—å –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –¥–≤–∏–≥–∞—Ç–µ–ª—å –∫ —ç—Ç–æ–º—É –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—É –≤ —É–Ω–∏–ø–æ–ª—è—Ä–Ω–æ–º –∏ –∫ A4983 –≤ –±–∏–ø–æ–ª—è—Ä–Ω–æ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏. –°—É–±—ä–µ–∫—Ç–∏–≤–Ω–æ, —É–Ω–∏–ø–æ–ª—è—Ä–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –¥–∞–≤–∞–ª–æ –±–æ–ª—å—à–∏–π –º–æ–º–µ–Ω—Ç –Ω–∞ –≤—ã—Å–æ–∫–∏—Ö —Å–∫–æ—Ä–æ—Å—Ç—è—Ö. –í–æ–∑–º–æ–∂–Ω–æ, –∏–∑-–∑–∞ –º–µ–Ω—å—à–µ–π –∏–Ω–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –æ–±–º–æ—Ç–∫–∏ –ø—Ä–∏ —É–Ω–∏–ø–æ–ª—è—Ä–Ω–æ–º –≤–∫–ª—é—á–µ–Ω–∏–∏.

[http://www.youtube.com/watch?v=UT1nMZGH0vg](http://www.youtube.com/watch?v=UT1nMZGH0vg)

## –ü–µ—á–∞—Ç–Ω—ã–µ –ø–ª–∞—Ç—ã

![StepperController2_pcb](images/StepperController2_pcb.png)

![StepperController2_pcb_view](images/StepperController2_pcb_view.png)

![StepperController2_photo](images/StepperController2_photo.jpg)

![UnipolarDriver_pcb](images/UnipolarDriver_pcb.png)

![UnipolarDriver_pcb_view](images/UnipolarDriver_pcb_view.png)

![UnipolarDriver_pcb_photo](images/UnipolarDriver_pcb_photo.jpg)

## –ü—Ä–æ—à–∏–≤–∫–∞, —Ñ—å—é–∑—ã

–ü—Ä–æ—à–∏–≤–∫–∞ –Ω–∞–ø–∏—Å–∞–Ω–∞ –Ω–∞ –° –¥–ª—è CodevisionAVR 2.05.

–ü—Ä–∏ –±–æ–ª—å—à–æ–º –∂–µ–ª–∞–Ω–∏–∏, –æ—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª –º–æ–∂–Ω–æ –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å –Ω–∞ –∞—Å—Å–µ–º–±–ª–µ—Ä–µ –∏ —É–≤–µ–ª–∏—á–∏—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —á–∞—Å—Ç–æ—Ç—É –∏–º–ø—É–ª—å—Å–æ–≤ Step –¥–æ ~20–∫–ì—Ü.

–ü—Ä–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏ –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ –Ω—É–∂–Ω–æ –æ—Ç–∫–ª—é—á–∞—Ç—å –ø–∏—Ç–∞–Ω–∏–µ –æ—Ç —Å–∏–ª–æ–≤–æ–π —á–∞—Å—Ç–∏.

![fuses](images/fuses.png)

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Mach 3

–í –∏–¥–µ–∞–ª—å–Ω–æ–º —Å–ª—É—á–∞–µ, —É–ø—Ä–∞–≤–ª—è—é—â–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–ª–∂–Ω–∞ —É–º–µ—Ç—å —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –∏–º–ø—É–ª—å—Å—ã Step —Ç–æ—á–Ω–æ —Å —Ç—Ä–µ–±—É–µ–º–æ–π —á–∞—Å—Ç–æ—Ç–æ–π. –ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ Mach3 –∏ –ø–æ–¥–æ–±–Ω—ã—Ö, –¥—Ä–∞–π–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —á–∞—Å—Ç–æ—Ç–µ (Kernel speed):

![m3config1](images/m3config1.png)

–ü–æ—ç—Ç–æ–º—É Mach3 —É–º–µ–µ—Ç —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –∏–º–ø—É–ª—å—Å—ã —Ç–æ–ª—å–∫–æ –Ω–∞ –≥—Ä–∞–Ω–∏—Ü–∞—Ö –ø–µ—Ä–∏–æ–¥–æ–≤ Kernel speed. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –∏–º–ø—É–ª—å—Å—ã —Å —á–∞—Å—Ç–æ—Ç–æ–π 16kHz (–ø–µ—Ä–∏–æ–¥ ‚Äì 62,5 –º–∫—Å) –ø—Ä–∏ —á–∞—Å—Ç–æ—Ç–µ —è–¥—Ä–∞ 25kHz (–ø–µ—Ä–∏–æ–¥ ‚Äì 40–º–∫—Å), —Ç–æ –∏–º–ø—É–ª—å—Å—ã –±—É–¥—É—Ç —Å–ª–µ–¥–æ–≤–∞—Ç—å –Ω–µ—Ä–∞–≤–Ω–æ–º–µ—Ä–Ω–æ ‚Äì —Å –ø–µ—Ä–∏–æ–¥–∞–º–∏, –∫—Ä–∞—Ç–Ω—ã–º–∏ 40 –º–∫—Å:

![mach3step](images/mach3step.png)

–ò–∑ –æ—Å—Ü–∏–ª–ª–æ–≥—Ä–∞–º–º—ã –Ω–∞ –≤—ã—Ö–æ–¥–µ –æ–ø—Ç—Ä–æ–Ω–∞ –≤–∏–¥–Ω–æ, —á—Ç–æ –≤—Ä–µ–º—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –¥–ª—è —É–≤–µ—Ä–µ–Ω–Ω–æ–≥–æ —á—Ç–µ–Ω–∏—è "1" –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–º —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ 50–º–∫—Å. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ –≤—ã–¥–µ—Ä–∂–∞—Ç—å "–µ–¥–∏–Ω–∏—Ü—É" –æ–¥–∏–Ω —Ü–∏–∫–ª –ø—Ä–æ–≥—Ä–∞–º–º—ã (26–º–∫—Å), –∏—Ç–æ–≥–æ ~ 76–º–∫—Å. –ü–æ—ç—Ç–æ–º—É –ø—Ä–∏ —á–∞—Å—Ç–æ—Ç–µ —è–¥—Ä–∞ 25–∫–ì—Ü, –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —á–∞—Å—Ç–æ—Ç–∞ –∏–º–ø—É–ª—å—Å–æ–≤ Step –Ω–µ –¥–æ–ª–∂–Ω–∞ –ø—Ä–µ–≤—ã—à–∞—Ç—å 12500–ì—Ü, —á—Ç–æ–±—ã –º–µ–∂–¥—É –∏–º–ø—É–ª—å—Å–∞–º–∏ –±—ã–ª–æ –∫–∞–∫ –º–∏–Ω–∏–º—É–º –¥–≤–∞ –ø–µ—Ä–∏–æ–¥–∞ –ø–æ 40 –º–∫—Å.

![m3config3](images/m3config3.png)

–î–ª—è —ç—Ç–æ–≥–æ –¥–æ–ª–∂–Ω–æ —Å–æ–±–ª—é–¥–∞—Ç—å—Å—è —É—Å–ª–æ–≤–∏–µ:

*Steps per * Velocity / 60 < 12500*

–ü–æ–ª—è—Ä–Ω–æ—Å—Ç—å –∏–º–ø—É–ª—å—Å–æ–≤ Step –≤—ã—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–π:

![m3config2](images/m3config2.png)

## –û—Å—Ü–∏–ª–ª–æ–≥—Ä–∞–º–º—ã

–ù–∞–ø—Ä—è–∂–µ–Ω–∏–µ –Ω–∞ —Ç–æ–∫–æ–∏–∑–º–µ—Ä–∏—Ç–µ–ª—å–Ω–æ–º —Ä–µ–∑–∏—Å—Ç–æ—Ä–µ, –Ω–∏–∑–∫–∞—è –∏ —Å—Ä–µ–¥–Ω—è—è —Å–∫–æ—Ä–æ—Å—Ç—å –≤—Ä–∞—â–µ–Ω–∏—è (microstep 8x):

![coil_ood](images/coil_ood.gif)

(–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –±–ª–∏–∑–∫–∏–º –∫ abs(sin(x))).

–ù–∞–ø—Ä—è–∂–µ–Ω–∏–µ –Ω–∞ —Ç–æ–∫–æ–∏–∑–º–µ—Ä–∏—Ç–µ–ª—å–Ω–æ–º —Ä–µ–∑–∏—Å—Ç–æ—Ä–µ, –≤—ã—Å–æ–∫–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å –≤—Ä–∞—â–µ–Ω–∏—è:

![coil_max_good](images/coil_max_good.gif)

## –ü–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏/–Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏/—É–ª—É—á—à–µ–Ω–∏—è

–û–±—â–µ–Ω–∏–µ —Å –º–∏–∫—Ä–æ—Å—Ö–µ–º–æ–π M62359 –∏–¥–µ—Ç –Ω–∞ —á–∞—Å—Ç–æ—Ç–µ, –ø—Ä–µ–≤—ã—à–∞—é—â–µ–π –∑–∞—è–≤–ª–µ–Ω–Ω—ã–µ –≤ –¥–∞—Ç–∞—à–∏—Ç–µ, –ø–æ—ç—Ç–æ–º—É –µ—ë –∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ —á—Ç–æ-—Ç–æ –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä–æ–µ. –ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ —è –Ω–µ –Ω–∞–±–ª—é–¥–∞–ª –ø—Ä–æ–±–ª–µ–º –≤ —Ä–∞–±–æ—Ç–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞. –ú–Ω–µ —É–¥–∞—ë—Ç—Å—è —É—Å–ø–µ—à–Ω–æ —Ñ—Ä–µ–∑–µ—Ä–æ–≤–∞—Ç—å –ø–µ—á–∞—Ç–Ω—ã–µ –ø–ª–∞—Ç—ã, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ—Ç–æ—Ä—ã—Ö –≤–∫–ª—é—á–∞–µ—Ç —à—Ç—Ä–∏—Ö–æ–≤–∫—É –≤—Å–µ–π –ø–ª–∞—Ç—ã —Å —à–∞–≥–æ–º 0.3–º–º:

![pcbsmall](images/pcbsmall.jpg)

–ü–ª–∞—Ç—ã —Å–∏–ª–æ–≤–æ–π —á–∞—Å—Ç–∏ —Ä–∞–∑–≤–æ–¥–∏–ª–∏—Å—å "–Ω–∞ –≤—Å–µ —Å–ª—É—á–∞–∏ –∂–∏–∑–Ω–∏". –í–æ–∑–º–æ–∂–Ω–æ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª —É–±—Ä–∞—Ç—å –ø–æ—Å–∞–¥–æ—á–Ω—ã–µ –º–µ—Å—Ç–∞ –¥–ª—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–µ—Ç–∞–ª–µ–π –∏ —É–º–µ–Ω—å—à–∏—Ç—å –≥–∞–±–∞—Ä–∏—Ç—ã. –ò–ª–∏ —Å–¥–µ–ª–∞—Ç—å –≤–µ—Å—å –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –Ω–∞ –æ–¥–Ω–æ–π –±–æ–ª—å—à–æ–π –ø–ª–∞—Ç–µ –≤ SMD –≤–∞—Ä–∏–∞–Ω—Ç–µ.

–°–∏–ª–æ–≤—ã–µ –ø–ª–∞—Ç—ã –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–ª–æ—Å—å –≤—Å—Ç–∞–≤–ª—è—Ç—å –≤ —É–ø—Ä–∞–≤–ª—è—é—â–∏–π –º–æ–¥—É–ª—å –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ, –∫–∞–∫ –≤ –º–∞—Ç–µ—Ä–∏–Ω—Å–∫—É—é –ø–ª–∞—Ç—É –∫–æ–º–ø—å—é—Ç–µ—Ä–∞, –Ω–æ –≤ –∏—Ç–æ–≥–µ —Å–¥–µ–ª–∞–ª –Ω–∞ —à–ª–µ–π—Ñ–∞—Ö. –ò–∑-–∑–∞ —ç—Ç–æ—Ç —à–ª–µ–π—Ñ—ã –ø—Ä–∏—à–ª–æ—Å—å –ø–µ—Ä–µ–∂–∏–º–∞—Ç—å —Å–æ —Å–¥–≤–∏–≥–æ–º. –ï—Å–ª–∏ –±—ã –¥–µ–ª–∞–ª –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ ‚Äì —Ä–∞–∑–≤—ë–ª –±—ã –ø–æ–¥ –≥–æ—Ç–æ–≤—ã–µ —à–ª–µ–π—Ñ—ã –æ—Ç –¥–∏—Å–∫–æ–≤–æ–¥–æ–≤.

–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–ª—Å—è —Å —Ç–æ–∫–∞–º–∏ –±–æ–ª—å—à–µ 2–ê ‚Äì –≤–æ–∑–º–æ–∂–Ω–æ, —Å–ª–µ–¥—É–µ—Ç —É–¥–µ–ª–∏—Ç—å –±–æ–ª—å—à–µ –≤–Ω–∏–º–∞–Ω–∏—è —Ä–∞–∑–≤–æ–¥–∫–µ.

–ù–∞–ø—Ä—è–∂–µ–Ω–∏–µ –ø–∏—Ç–∞–Ω–∏—è –¥–≤–∏–≥–∞—Ç–µ–ª–µ–π –º–æ–∂–Ω–æ –ø–æ–¥–Ω—è—Ç—å –≤–ø–ª–æ—Ç—å –¥–æ 60–í. –ü—Ä–∏ —ç—Ç–æ–º –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ç—Ä–∞–Ω–∑–∏—Å—Ç–æ—Ä—ã –≤ –±–æ–ª—å—à–∏–º Vdss –∏ –ø–æ–¥–æ–±—Ä–∞—Ç—å —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ R8 –≤ —Ü–µ–ø–∏ –ø–∏—Ç–∞–Ω–∏—è UC3842 (–º–∏–∫—Ä–æ—Å—Ö–µ–º–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Å—Ç–∞–±–∏–ª–∏—Ç—Ä–æ–Ω –Ω–∞ 30–í). –ù–∞–ø—Ä—è–∂–µ–Ω–∏–µ –ø–∏—Ç–∞–Ω–∏—è –Ω–µ–ª—å–∑—è –ø–æ–¥–Ω–∏–º–∞—Ç—å –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ, –ø–æ—Ç–æ–º—É —á—Ç–æ –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–±–æ–π –≤ –æ–±–º–æ—Ç–∫–∞—Ö –¥–≤–∏–≥–∞—Ç–µ–ª—è.

–°—Ä–∞–∑—É —Ö–æ—á—É –ø—Ä–µ–¥—É–ø—Ä–µ–¥–∏—Ç—å, —á—Ç–æ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω—É–∂–µ–Ω –æ—Å—Ü–∏–ª–ª–æ–≥—Ä–∞—Ñ. –ë–µ–∑ –Ω–µ–≥–æ –ø–æ–Ω—è—Ç—å, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ –æ–±–º–æ—Ç–∫–∞—Ö, –±—É–¥–µ—Ç –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ.

## –ò—Å—Ö–æ–¥–Ω—ã–µ –∫–æ–¥—ã

–ò—Å—Ö–æ–¥–Ω—ã–µ –∫–æ–¥—ã (Codevision AVR 2.05)
[CNCController2_src.zip](CNCController2_src.zip)

–°—Ö–µ–º–∞, –ø–µ—á–∞—Ç–∫–∏
[CNCContoller2_schematics.zip](CNCContoller2_schematics.zip)

## –ú–∞—Ç–µ—Ä–∏–∞–ª—ã

UC3842 CURRENT MODE PWM CONTROLLER
[http://www.ti.com/lit/ds/symlink/uc3842.pdf](http://www.ti.com/lit/ds/symlink/uc3842.pdf)

DMOS Microstepping Driver with Translator A4983
[http://www.allegromicro.com/~/media/Files/Datasheets/A4983-Datasheet.ashx](http://www.allegromicro.com/~/media/Files/Datasheets/A4983-Datasheet.ashx)

–£—Å–∫–æ—Ä–µ–Ω–∏–µ —à–∞–≥–æ–≤—ã—Ö –¥–≤–∏–≥–∞—Ç–µ–ª–µ–π
[http://vri-cnc.ru/modules.php?name=News&file=article&sid=22](http://vri-cnc.ru/modules.php?name=News&file=article&sid=22)

–£—Å–∫–æ—Ä–µ–Ω–∏–µ —à–∞–≥–æ–≤—ã—Ö –¥–≤–∏–≥–∞—Ç–µ–ª–µ–π 2
[http://vri-cnc.ru/modules.php?name=News&file=article&sid=4&mode=&order=0&thold=0](http://vri-cnc.ru/modules.php?name=News&file=article&sid=4&mode=&order=0&thold=0)

Losing steps in Mach3: Kernel Speed, Pulse Width and "Sherline 1/2 Pulse mode"
[http://ivan.blogs.chimerical.com.au/post/2010/07/07/Losing-steps-in-Mach3-Kernel-Speed-Pulse-Width-and-Sherline-12-Pulse-mode.aspx](http://ivan.blogs.chimerical.com.au/post/2010/07/07/Losing-steps-in-Mach3-Kernel-Speed-Pulse-Width-and-Sherline-12-Pulse-mode.aspx)

–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞ –∏ –º–µ—Ö–∞–Ω–∏–∫–∞ –¥–æ–º–∞—à–Ω–µ–≥–æ 3-—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–Ω–æ–≥–æ —Å—Ç–∞–Ω–∫–∞ –ß–ü–£ (Hobby CNC).
[http://radiokot.ru/lab/hardwork/33/](http://radiokot.ru/lab/hardwork/33/)

hCNC3+ (ATMega16, Step\Dir, 3 axis, –®–ò–ú, —Ä—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ).
[http://vri-cnc.ru/modules.php?name=Forums&file=viewtopic&t=1438&start=0&postdays=0&postorder=asc&highlight=](http://vri-cnc.ru/modules.php?name=Forums&file=viewtopic&t=1438&start=0&postdays=0&postorder=asc&highlight=)

–ü—Ä–æ—Å—Ç–æ–π –±–∏–ø–æ–ª—è—Ä–Ω—ã–π –¥—Ä–∞–π–≤–µ—Ä –Ω–∞ Pic
[http://cncmasterkit.ru/viewtopic.php?f=3&t=1393](http://cncmasterkit.ru/viewtopic.php?f=3&t=1393)

–ú–∏–∫—Ä–æ—à–∞–≥–æ–≤—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —à–∞–≥–æ–≤–æ–≥–æ –¥–≤–∏–≥–∞—Ç–µ–ª—è –Ω–∞ –±–∞–∑–µ PIC18F2320 V4.1
[http://robozone.su/cnc-home/50-mikroshagovyjj-kontroller-shagovogo-dvigatelja-na.html](http://robozone.su/cnc-home/50-mikroshagovyjj-kontroller-shagovogo-dvigatelja-na.html)

STEP/DIR –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä 3-—Ö —à–∞–≥–æ–≤—ã—Ö –¥–≤–∏–≥–∞—Ç–µ–ª–µ–π –Ω–∞ –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ (–¥–ª—è —Å—Ç–∞–Ω–∫–∞ –ß–ü–£)
[http://radiokot.ru/circuit/digital/automat/25/](http://radiokot.ru/circuit/digital/automat/25/)

3 axis STEP-DIR controller
[3_axis_STEP-DIR_controller.md](/?start=2&folder=CNC%2F2013-09_4_axis_Step-Dir_%D0%BA%D0%BE%D0%BD%D1%82%D1%80%D0%BE%D0%BB%D0%BB%D0%B5%D1%80_%D1%88%D0%B0%D0%B3%D0%BE%D0%B2%D1%8B%D1%85_%D0%B4%D0%B2%D0%B8%D0%B3%D0%B0%D1%82%D0%B5%D0%BB%D0%B5%D0%B9_2&file=CNC%2F2008-06_3_axis_STEP_DIR_controller%2F3_axis_STEP-DIR_controller.md)
