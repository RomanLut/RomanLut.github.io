# Самодельный светодиодный фонарик 1Вт

Статья опубликована на сайте [radiokot.ru](http://radiokot.ru/circuit/analog/games/22/)

Нашёл в интернете простую схемку, решил переделать фонарик на 1Вт светодиод:

![coil_schematics](images/coil_schematics.png)

Оказалось всё не так просто, пришлось повозиться. За простотой схемы скрывается неэффективность – при необходимых 350мА на светодиод, транзистор слишком сильно греется. Осциллограмма на базе выглядит так:

![coil_out_to_base](images/coil_out_to_base.gif)

Вторая проблема – генерация определяется трансформатором, и скважность фиксирована – 50%. При питании от двух АА аккумуляторов, как в моём случае, из-за потерь в диоде и резисторе не получается поднять входное напряжение <2.1В до необходимых 3.6В.

Для второй попытки была найдена схема:

![cap_schematics](images/cap_schematics.png)

С ней ситуация, в принципе, такая же, только частота генерации задаётся уже конденсатором и дросселем. По-прежнему нет возможности регулировать скважность и поднять напряжение при севших батарейках.

Проблему перегрева транзистора можно решить, если добавить триггер Шмитта на 2-х транзисторах:

![schmidt](images/schmidt.png)

При этом импульсы на базе силового ключа становятся меандром, и нагрев прекращается.

Эта схема вполне работоспособна, её можно использовать при питании от 3-х АА батареек, только добавить цепь ограничения тока, как с самой первой схеме.

Других схем на "рассыпухе" я не нашёл. Конечно, существуют специализированные микросхемы, но они существуют абстрактно, где-то там, за тысячи километров и минимум две недели доставки, а выходные и ящик со старыми платами совсем рядом :), поэтому поиск был продолжен по схемам boost up converters. В результате была найдена вот эта изумительная схема импульсного преобразователя 6->14В со стабилизацией:

![boost_6v_14v](images/boost_6v_14v.png)

Как показала проверка на breadboard, схема продолжает работать при снижении входного напряжения вплоть до 1.5V практически без изменений.

Схема представляет собой триггер Шмитта, замкнутый сам на себя с задержкой на времязадающем конденсаторе. Длительность положительного импульса, открывающего силовой транзистор, фиксирована, и задаётся времязадающим конденсатором. Скважность регулируется изменением частоты следования импульсов, то есть изменением частоты колебаний схемы.

Для ограничения тока на светодиоде на уровне 350мА можно применить резистивный датчик как в самой первой схеме. Но сопротивление датчика придётся сделать большим, и, соответственно, потерять энергию на его нагревание. На самом деле, ток через светодиод сильно зависит от приложенного напряжения, и поэтому достаточно ограничить напряжение на уровне 3.6В.

![Lighter2_breadboard](images/Lighter2_breadboard.png)

Поскольку стабилитрона на 2.9В не нашлось, а TL431 жалко, была установлена цепочка из диодов D3-D7 для ограничения напряжения на уровне 3.3В, что соответствует току ~300мА через светодиод. Ток немного снижен для экономии батарей и ограничения нагрева самого светодиода.

Схема отлично показала себя в работе, и был собран вариант на smd деталях:

![Lighter2_smd](images/Lighter2_smd.png)

Транзисторы Q1,Q2 – любые NPN, Q3 – любой PNP. В качестве силового ключа взят транзистор MW882L в SOT-89 корпусе, выпаянный из видеокарты. Благодаря импульсам с крутыми фронтами на базе, транзистор не греется:

![base](images/base.gif)

Я не нашёл его даташит, но, по идее, это транзистор с низким сопротивлением для преобразователей питания, аналог 2SC5706.

Дроссель выпаян из материнской платы от ноутбука, выглядит примерно так:

![inductor](images/inductor.jpg)

Дроссель был разобран и перемотан тонким проводом сколько влезет ( получилось 50uH, было 6.8uH). Схема будет работать с дросселями 20-100uH.

Резистор R10 впаивается только для отладки (замерять ток светодиода). В финале вместо него ставится перемычка.

Печатная плата:

![Lighter2_smd_pcb](images/Lighter2_smd_pcb.png)

вставлена в имеющийся фонарик, после доработки напильником:

![lighter1](images/lighter1.jpg)

![lighter2](images/lighter2.jpg)

![lighter3](images/lighter3.jpg)

![lighter4](images/lighter4.jpg)

![lighter5](images/lighter5.jpg)

Из-за простой схемы стабилизации, при снижении напряжения питания ток светодиода снижается. На самом деле в данном случае это даже хорошо, так как на севших батареях большим приоритетом является не яркость, а возможность сохранить свечение как можно дольше, эдакий "режим экономии батарей" при сильном разряде.

| Напряжения питания, В | Потребляемый ток*,мА | Напряжение на светодиоде*, В | Ток светодиода, мА | Частота, кГц | Эффективность, % |
|---|---|---|---|---|---|
| 1.57 | 11 | 2.52 | 8 | 20 | 85.6 |
| 1.66 | 70 | 2.67 | 46 | 60 | 92.4 |
| 1.72 | 150 | 2.8 | 90 | 85 | 91.5 |
| 1.9 | 280 | 2.97 | 166 | 85 | 92.6 |
| 2.0 | 320 | 3.0 | 186 | 85 | 87.1 |
| 2.33 | 440 | 3.2 | 260 | 87 | 81.1 |
| 2.4 | 450 | 3.3 | 286 | 84 | 87.3 |
| 2.54 | 460 | 3.28 | 290 | 78 | 81.4 |
| 2.6 | 520 | 3.28 | 326 | 71 | 79.0 |
| 2.7 | 550 | 3.32 | 338 | 68 | 75.5 |
| 2.81 | 560 | 3.4 | 353 | 67 | 76.2 |
| 3.0 | 600 | 3.5 | 386 | 66 | 75.0 |

* средний ток и напряжение. В схеме присутствуют пульсации до 10%.

![Graph1](images/Graph1.png)

![Graph2](images/Graph2.png)

![lighter6](images/lighter6.jpg)

Схема, печатка (Proteus): [Lighter2.rar](Lighter2.rar)

### Материалы

LED driver electronic project using transistors
[http://www.electroniq.net/led-drivers/led-driver-electronic-project-using-transistors.html](http://www.electroniq.net/led-drivers/led-driver-electronic-project-using-transistors.html)

Two Transistors Single Cell Battery LED Driver
[http://freecircuitdiagram.com/2010/10/25/two-transistors-single-cell-battery-led-driver/](http://freecircuitdiagram.com/2010/10/25/two-transistors-single-cell-battery-led-driver/)

2 Watt Switching Power Supply
[http://www.bowdenshobbycircuits.info/page4.htm#ps5.gif](http://www.bowdenshobbycircuits.info/page4.htm#ps5.gif)

My BJT/FET multivibrator boost converter beats Minty Boost!
[http://www.electro-tech-online.com/electronic-projects-design-ideas-reviews/120932-my-bjt-fet-multivibrator-boost-converter-beats-minty-boost.html](http://www.electro-tech-online.com/electronic-projects-design-ideas-reviews/120932-my-bjt-fet-multivibrator-boost-converter-beats-minty-boost.html)

Single and Two Cell White LED Drivers Without Inductors
[http://www.cappels.org/dproj/PulseBoostLED/Pulse_Boost_White_LED.html](http://www.cappels.org/dproj/PulseBoostLED/Pulse_Boost_White_LED.html)
