# ШИМ управление 12В вентилятором на "рассыпухе"

*Статья опубликована на сайте [cxem.net](https://cxem.net/pitanie/5-321.php)*

Вашему вниманию предлагается простая схема управления скоростью вращения вентилятора 12В c зависимостью от температуры, собранная на доступных деталях, которые  всегда можно найти в ящике радиолюбителя.

В интернете можно найти множество схем на "рассыпухе", но все они реализуют линейный регулятор напряжения без нижнего порога включения. В данной схеме на четырёх транзисторах  удалось реализовать импульсный регулятор напряжения с нижним порогом включения. При температуре ниже пороговой вентилятор полностью выключен, потребление схемы ~1мА.

За основу схемы взят "Импульсный преобразователь 2Вт" [7].

Схема переделана в понижающий стабилизатор напряжения с зависимостью от температуры:

![](images/01.png)

Прямоугольные импульсы с генератора на триггере Шмидта, собранного на транзисторах  Q1Q2Q3, поступают на силовой транзистор Q4.

Длительность положительного полупериода, открывающего силовой транзистор, фиксирована, и задаётся времязадающим конденсатором С1 и сопротивлением R1R2. Скважность регулируется изменением длительности отрицательного полупериода.

Осциллограмма на базе транзистора Q4 (относительно "земли") возле порога включения:

![](images/02.png)

На вентилятор сразу подается ~6В, что обеспечивает его уверенный старт.

И при максимальных оборотах:

![](images/03.png)

Так как силовой транзистор работает в ключевом режиме, то для управления вентиляторами с током потребления до 0.5А можно использовать транзисторы в корпусе ТО-92 или даже SOT-23, например - S8050.
Для вентиляторов большой мощности можно применить N-Ch MOSFET в SO-8 корпусе.

Нижний порог включения реализован за счёт срыва генерации при большом значении сопротивления разрядной цепочки D2R11R10RT, в которую входит термистор(RT).

Не все вентиляторы нормально работают на пульсирующем напряжении.
Цепочка D7L2C3 предназначена для получения постоянного напряжения из импульсов. Для вентиляторов до 0.35А, дроссель L2 мотают проводом 0,1мм на "гантельке" с внешним диаметром 5мм, которую можно взять из сгоревшего балласта КЛЛ:

![](images/04.jpg)

Дроссель L1 - "перемычка в феррите" из CRT мониторов или SMD дроссель:

![](images/05.jpg)

![](images/06.jpg)

Частота генерации схемы - от 22 до 42 КГц. Если вентилятор допускает пульсации, то его впаивают вместо диода D7, а L2C3 не устанавливаются.

Схема работает от источника питания 11.8-14.4В.

Все детали могут быть заменены на аналогичные с большим разбросом параметров, так как схема импульсная. Порог включения, начальное напряжение включения и точка достижения максимальных оборотов устанавливается подбором резисторов R1R2 и R10R11.

К статье прилагаются проекты в LTSpice для экспериментов. Зависимость напряжения на вентиляторе от температуры можно рассчитать в файле FanControlSweep2.asc:

![](images/07.png)

При указанных номиналах, вентилятор начинает работать при 40С и достигает наибольших оборотов при 80С.

В качестве датчика применяется термистор MF58 100K [8]:

![](images/08.jpg)

Которые можно приобрести оптом на [Aliexpress](http://cxem.net/magazines/aliexpress.php) - один раз на все случаи жизни.

Плата разведена под thought hole детали (при монтаже проверяйте распиновку коллектор-эмитер-база !!!, не надейтесь на нарисованный контур транзистора):

![](images/09.png)

![](images/10.png)

![](images/11.jpg)

Регулятор использован для охлаждения автомобильного инвертора Porto HT E-150, который сильно греется при подключении ноутбука.

![](images/12.jpg)

![](images/13.jpg)

Небольшой вентилятор и плата управления расположились на верхней крышке:

![](images/14.jpg)

А дальняя боковая стенка получила вентиляционные отверстия:

![](images/15.jpg)

Микроконтроллер инвертора измеряет температуру воздуха внутри корпуса с помощью термистора. Для того, чтобы тепловая защита продолжала работать, термистор был установлен с нижней стороны платы, где он не обдувается.

Стабилизатор 78L05 был выпаян с платы и установлен на радиатор через прокладку. Очевидно, что  он был неспособен выдать 500мА на гнездо USB без радиатора:

![](images/16.jpg)

Поскольку теперь ток USB может достигать 1,5А, впаиваем резистор 100 Ом между Data+ и Data-, чтобы телефоны смело заряжались током 1А[9]:

![](images/17.jpg)

Итог:

![](images/18.jpg)

## Литература

1. Механизмы управления вентилятором [http://1poclimaty.ru/ventilyatory/upravlenie-ventilyatorom.html](http://1poclimaty.ru/ventilyatory/upravlenie-ventilyatorom.html)
2. Устройство управления вентилятором [http://hamlab.net/pitanie/reg_vent.html](http://hamlab.net/pitanie/reg_vent.html)
3. Простое управление кулером компьютера [http://kazus.ru/shemes/showpage/0/1393/1.html](http://kazus.ru/shemes/showpage/0/1393/1.html)
4. Устройство управления вентилятором для охлаждения УМЗЧ [http://www.electroclub.info/invest/ventilator.htm](http://www.electroclub.info/invest/ventilator.htm)
5. Build A High Performance Voltage Regulator From Discrete Components [http://www.rason.org/Projects/discreg/discreg.htm](http://www.rason.org/Projects/discreg/discreg.htm)
6. Discrete High Current Switch Mode LED Driver [http://www.simplecircuitdiagram.com/2010/02/13/discrete-high-current-switch-mode-led-driver/](http://www.simplecircuitdiagram.com/2010/02/13/discrete-high-current-switch-mode-led-driver/)
7. 2 Watt Switching Power Supply [http://www.bowdenshobbycircuits.info/page4.htm#ps5.gif](http://www.bowdenshobbycircuits.info/page4.htm#ps5.gif)
8. MF58 Datasheet [http://www.dzsc.com/uploadfile/company/45063/200774125453164.pdf](http://www.dzsc.com/uploadfile/company/45063/200774125453164.pdf)
9. Типы зарядных портов [http://rones.su/techno/charging_ports_types.html](http://rones.su/techno/charging_ports_types.html)

## Список радиоэлементов

| Обозначение | Тип | Номинал | Количество |
|---|---|---|---|
| Q1, Q2 | Биполярный транзистор | КТ315Б | 2 |
| Q3 | Биполярный транзистор | 2N3906 | 1 |
| Q4 | Биполярный транзистор | S8050 | 1 |
| D1 | Выпрямительный диод | 1N4001 | 1 |
| D2 | Выпрямительный диод | 1N4148 | 1 |
| D7 | Выпрямительный диод | FR152 | 1 |
| C1 | Конденсатор | 100 пФ | 1 |
| C2 | Электролитический конденсатор | 10мкФ 16В | 1 |
| C3 | Электролитический конденсатор | 22мкФ 25В | 1 |
| L1 | Катушка индуктивности | 1мкГн | 1 |
| L2 | Катушка индуктивности | 10мГн | 1 |
| R1 | Резистор | 68 кОм | 1 |
| R2 | Резистор | 10 кОм | 1 |
| R3, R8, R9 | Резистор | 3.3 кОм | 3 |
| R4 | Резистор | 47 кОм | 1 |
| R5, R6, R7, R10, R11 | Резистор | 100 кОм | 5 |
| J5, J6 | Термистор | MF58-100 | 1 |
| FAN | Вентилятор | 12В 0.15А | 1 |

## Прикрепленные файлы

- [FanControl.rar](FanControl.rar) (30 Кб)
